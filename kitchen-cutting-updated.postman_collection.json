{
	"info": {
		"_postman_id": "kitchen-cutting-api-collection",
		"name": "Kitchen Cutting API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"description": "API collection for Kitchen Cabinet Calculator - Cutting and estimation service"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\",\n  \"full_name\": \"Test User\",\n  \"role\": \"user\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Register a new user"
					},
					"response": []
				},
				{
					"name": "Login User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\",\n  \"device_id\": \"device123\",\n  \"device_name\": \"My PC\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Login user and get access token"
					},
					"response": []
				},
				{
					"name": "Get Current User Info",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/me",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"me"
							]
						},
						"description": "Get current authenticated user information"
					},
					"response": []
				},
				{
					"name": "Update User Subscription (Admin)",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"max_units_per_month\": 10,\n  \"max_devices\": 2,\n  \"is_unlimited_units\": false,\n  \"is_unlimited_devices\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/auth/users/{{user_id}}/subscription",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"users",
								"{{user_id}}",
								"subscription"
							]
						},
						"description": "Update user subscription (Admin only)"
					},
					"response": []
				},
				{
					"name": "Deactivate User Device (Admin)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/users/{{user_id}}/devices/{{device_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"users",
								"{{user_id}}",
								"devices",
								"{{device_id}}"
							]
						},
						"description": "Deactivate user device (Admin only)"
					},
					"response": []
				},
				{
					"name": "Get User Units Count",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/auth/users/{{user_id}}/units/count",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"auth",
								"users",
								"{{user_id}}",
								"units",
								"count"
							]
						},
						"description": "Get number of units created by user"
					},
					"response": []
				}
			]
		},
		{
			"name": "Settings",
			"item": [
				{
					"name": "Get Settings",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"settings"
							]
						},
						"description": "Get current application settings"
					},
					"response": []
				},
				{
					"name": "Update Settings",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"assembly_method\": \"bolt\",\n  \"handle_type\": \"built-in\",\n  \"handle_recess_height_mm\": 30,\n  \"default_board_thickness_mm\": 16,\n  \"back_panel_thickness_mm\": 3,\n  \"edge_overlap_mm\": 2,\n  \"back_clearance_mm\": 3,\n  \"top_clearance_mm\": 5,\n  \"bottom_clearance_mm\": 5,\n  \"side_overlap_mm\": 0,\n  \"sheet_size_m2\": 2.4,\n  \"materials\": {\n    \"plywood_sheet\": {\n      \"price_per_sheet\": 2500,\n      \"sheet_size_m2\": 2.4\n    },\n    \"edge_band_per_meter\": {\n      \"price_per_meter\": 10\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/settings",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"settings"
							]
						},
						"description": "Update application settings"
					},
					"response": []
				}
			]
		},
		{
			"name": "Units",
			"item": [
				{
					"name": "Calculate Unit",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"type\": \"ground\",\n  \"width_cm\": 60,\n  \"height_cm\": 72,\n  \"depth_cm\": 30,\n  \"shelf_count\": 2,\n  \"options\": {}\n}"
						},
						"url": {
							"raw": "{{base_url}}/units/calculate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"units",
								"calculate"
							]
						},
						"description": "Calculate unit parts and dimensions"
					},
					"response": []
				},
				{
					"name": "Get Unit",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/units/{{unit_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"units",
								"{{unit_id}}"
							]
						},
						"description": "Get saved unit calculation details"
					},
					"response": []
				},
				{
					"name": "Estimate Unit Cost",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"type\": \"ground\",\n  \"width_cm\": 60,\n  \"height_cm\": 72,\n  \"depth_cm\": 30,\n  \"shelf_count\": 2,\n  \"options\": {}\n}"
						},
						"url": {
							"raw": "{{base_url}}/units/estimate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"units",
								"estimate"
							]
						},
						"description": "Estimate unit cost based on current settings"
					},
					"response": []
				},
				{
					"name": "Calculate Internal Counter",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"options\": {\n    \"add_base\": true,\n    \"add_mirror\": false,\n    \"add_internal_shelf\": true,\n    \"drawer_count\": 2,\n    \"back_clearance_mm\": 3,\n    \"expansion_gap_mm\": 3\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/units/{{unit_id}}/internal-counter/calculate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"units",
								"{{unit_id}}",
								"internal-counter",
								"calculate"
							]
						},
						"description": "Calculate internal counter parts for a unit"
					},
					"response": []
				},
				{
					"name": "Get Edge Breakdown",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/units/{{unit_id}}/edge-breakdown?edge_type=pvc",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"units",
								"{{unit_id}}",
								"edge-breakdown"
							],
							"query": [
								{
									"key": "edge_type",
									"value": "pvc"
								}
							]
						},
						"description": "Get edge band breakdown for a unit"
					},
					"response": []
				}
			]
		},
		{
			"name": "Projects",
			"item": [
				{
					"name": "Create Project",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"My Kitchen Project\",\n  \"description\": \"A sample kitchen project\",\n  \"client_name\": \"John Doe\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/projects/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"projects",
								""
							]
						},
						"description": "Create a new project"
					},
					"response": []
				},
				{
					"name": "Get All Projects",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/projects/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"projects",
								""
							]
						},
						"description": "Get all projects for current user"
					},
					"response": []
				},
				{
					"name": "Get Project",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/projects/{{project_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"projects",
								"{{project_id}}"
							]
						},
						"description": "Get a specific project"
					},
					"response": []
				},
				{
					"name": "Update Project",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Kitchen Project\",\n  \"description\": \"An updated kitchen project\",\n  \"client_name\": \"Jane Smith\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/projects/{{project_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"projects",
								"{{project_id}}"
							]
						},
						"description": "Update an existing project"
					},
					"response": []
				},
				{
					"name": "Delete Project",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/projects/{{project_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"projects",
								"{{project_id}}"
							]
						},
						"description": "Delete a project"
					},
					"response": []
				},
				{
					"name": "Add Unit to Project",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/projects/{{project_id}}/units/{{unit_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"projects",
								"{{project_id}}",
								"units",
								"{{unit_id}}"
							]
						},
						"description": "Add a unit to a project"
					},
					"response": []
				},
				{
					"name": "Remove Unit from Project",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/projects/{{project_id}}/units/{{unit_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"projects",
								"{{project_id}}",
								"units",
								"{{unit_id}}"
							]
						},
						"description": "Remove a unit from a project"
					},
					"response": []
				}
			]
		},
		{
			"name": "Summaries",
			"item": [
				{
					"name": "Get All Summaries",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/summaries",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"summaries"
							]
						},
						"description": "Get all saved summaries"
					},
					"response": []
				},
				{
					"name": "Get Summary",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/summaries/{{summary_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"summaries",
								"{{summary_id}}"
							]
						},
						"description": "Get a specific summary by ID"
					},
					"response": []
				},
				{
					"name": "Create Summary",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Project Alpha\",\n  \"description\": \"Kitchen project for client Alpha\",\n  \"unit_ids\": [\"unit_id_1\", \"unit_id_2\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/summaries",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"summaries"
							]
						},
						"description": "Create a new summary"
					},
					"response": []
				},
				{
					"name": "Update Summary",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Project Alpha\",\n  \"description\": \"Updated kitchen project for client Alpha\",\n  \"unit_ids\": [\"unit_id_1\", \"unit_id_2\", \"unit_id_3\"]\n}"
						},
						"url": {
							"raw": "{{base_url}}/summaries/{{summary_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"summaries",
								"{{summary_id}}"
							]
						},
						"description": "Update an existing summary"
					},
					"response": []
				},
				{
					"name": "Delete Summary",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/summaries/{{summary_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"summaries",
								"{{summary_id}}"
							]
						},
						"description": "Delete a summary"
					},
					"response": []
				}
			]
		},
		{
			"name": "Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/health",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"health"
					]
				},
				"description": "Check if the API is running"
			},
			"response": []
		},
		{
			"name": "Root",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/",
					"host": [
						"{{base_url}}"
					],
					"path": [
						""
					]
				},
				"description": "API root endpoint"
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "admin_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "user_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "unit_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "project_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "summary_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "device_id",
			"value": "",
			"type": "string"
		}
	]
}